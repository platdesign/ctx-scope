{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap ab13ff153059d6709500","webpack:///./src/index.js"],"names":["EXP","getImpl","object","property","elems","Array","isArray","split","name","value","length","undefined","slice","module","exports","def","current","ctx","map","replaced","item","match","replace","somes","filter","includes","substr","everys","nones","somesRes","some","index","everyRes","every","nonesRes","res","Boolean","Error"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AC7DA;;;;;;;;AAIA,IAAMA,MAAM,+BAAZ;;AAIA,SAASC,OAAT,CAAiBC,MAAjB,EAAyBC,QAAzB,EAAmC;AAClC,KAAIC,QAAQC,MAAMC,OAAN,CAAcH,QAAd,IAA0BA,QAA1B,GAAqCA,SAASI,KAAT,CAAe,GAAf,CAAjD;AAAA,KACCC,OAAOJ,MAAM,CAAN,CADR;AAAA,KAECK,QAAQP,OAAOM,IAAP,CAFT;;AAIA,KAAIJ,MAAMM,MAAN,IAAgB,CAApB,EAAuB;AACtB,SAAOD,KAAP;AACA;AACD;AACA,KAAIA,UAAU,IAAV,IAAkB,QAAOA,KAAP,yCAAOA,KAAP,OAAiB,QAAvC,EAAiD;AAChD,SAAOE,SAAP;AACA;AACD,QAAOV,QAAQQ,KAAR,EAAeL,MAAMQ,KAAN,CAAY,CAAZ,CAAf,CAAP;AACA;;AAIDC,OAAOC,OAAP;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,wBAGcC,GAHd,EAGmBC,OAHnB,EAG4BC,GAH5B,EAGiC;AAC/BA,SAAMA,OAAO,EAAb;AACA;;AAEAF,SAAMA,IAAIG,GAAJ,CAAQ,gBAAQ;;AAErB,QAAIC,WAAWC,IAAf;AACA,QAAIC,cAAJ;;AAEA,WAAO,CAACA,QAAQF,SAASE,KAAT,CAAerB,GAAf,CAAT,MAAkC,IAAzC,EAA+C;AAC9CmB,gBAAWA,SAASG,OAAT,CAAiBD,MAAM,CAAN,CAAjB,EAA2BpB,QAAQgB,GAAR,EAAaI,MAAM,CAAN,CAAb,CAA3B,CAAX;AACA;;AAED,WAAOF,QAAP;AACA,IAVK,CAAN;;AAYA,OAAII,QAAQR,IAAIS,MAAJ,CAAW;AAAA,WAAQ,CAAC,CAAC,GAAD,EAAM,GAAN,EAAWC,QAAX,CAAoBL,KAAKM,MAAL,CAAY,CAAZ,EAAe,CAAf,CAApB,CAAT;AAAA,IAAX,CAAZ;AACA,OAAIC,SAASZ,IAAIS,MAAJ,CAAW;AAAA,WAAQJ,KAAKM,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,GAA9B;AAAA,IAAX,EAA8CR,GAA9C,CAAkD;AAAA,WAAQE,KAAKM,MAAL,CAAY,CAAZ,CAAR;AAAA,IAAlD,CAAb;AACA,OAAIE,QAAQb,IAAIS,MAAJ,CAAW;AAAA,WAAQJ,KAAKM,MAAL,CAAY,CAAZ,EAAe,CAAf,MAAsB,GAA9B;AAAA,IAAX,EAA8CR,GAA9C,CAAkD;AAAA,WAAQE,KAAKM,MAAL,CAAY,CAAZ,CAAR;AAAA,IAAlD,CAAZ;;AAEA,OAAIG,WAAWN,MAAMb,MAAN,GAAea,MAAMO,IAAN,CAAW,UAACV,IAAD,EAAOW,KAAP;AAAA,WAAiBf,QAAQS,QAAR,CAAiBL,IAAjB,CAAjB;AAAA,IAAX,CAAf,GAAqE,IAApF;;AAEA,OAAIY,WAAWL,OAAOjB,MAAP,GAAgBiB,OAAOM,KAAP,CAAa;AAAA,WAAQjB,QAAQS,QAAR,CAAiBL,IAAjB,CAAR;AAAA,IAAb,CAAhB,GAA+D,IAA9E;AACA,OAAIc,WAAWN,MAAMlB,MAAN,GAAekB,MAAMK,KAAN,CAAY;AAAA,WAAQ,CAACjB,QAAQS,QAAR,CAAiBL,IAAjB,CAAT;AAAA,IAAZ,CAAf,GAA8D,IAA7E;;AAGA,OAAIe,MAAM,CAACH,QAAD,EAAWE,QAAX,EAAqBL,QAArB,EAA+BI,KAA/B,CAAqCG,OAArC,CAAV;;AAEA,OAAID,QAAQ,IAAZ,EAAkB;AACjB,UAAM,IAAIE,KAAJ,EAAN;AACA;;AAED,UAAO,IAAP;AACA;AApCF;;AAAA;AAAA,I","file":"ctx-scope.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"ctx-scope\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ctx-scope\"] = factory();\n\telse\n\t\troot[\"ctx-scope\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap ab13ff153059d6709500","'use strict';\n\n\n\nconst EXP = /(\\{([0-9A-Za-z\\.\\[\\]^\\}]*)\\})/;\n\n\n\nfunction getImpl(object, property) {\n\tlet elems = Array.isArray(property) ? property : property.split('.'),\n\t\tname = elems[0],\n\t\tvalue = object[name];\n\n\tif (elems.length <= 1) {\n\t\treturn value;\n\t}\n\t// Note that typeof null === 'object'\n\tif (value === null || typeof value !== 'object') {\n\t\treturn undefined;\n\t}\n\treturn getImpl(value, elems.slice(1));\n};\n\n\n\nmodule.exports = class CtxScope {\n\n\n\tstatic match(def, current, ctx) {\n\t\tctx = ctx || {};\n\t\t// let last = def.length - 1;\n\n\t\tdef = def.map(item => {\n\n\t\t\tlet replaced = item;\n\t\t\tlet match;\n\n\t\t\twhile ((match = replaced.match(EXP)) !== null) {\n\t\t\t\treplaced = replaced.replace(match[1], getImpl(ctx, match[2]));\n\t\t\t}\n\n\t\t\treturn replaced;\n\t\t});\n\n\t\tlet somes = def.filter(item => !['+', '-'].includes(item.substr(0, 1)));\n\t\tlet everys = def.filter(item => item.substr(0, 1) === '+').map(item => item.substr(1));\n\t\tlet nones = def.filter(item => item.substr(0, 1) === '-').map(item => item.substr(1));\n\n\t\tlet somesRes = somes.length ? somes.some((item, index) => current.includes(item)) : true;\n\n\t\tlet everyRes = everys.length ? everys.every(item => current.includes(item)) : true;\n\t\tlet nonesRes = nones.length ? nones.every(item => !current.includes(item)) : true;\n\n\n\t\tlet res = [everyRes, nonesRes, somesRes].every(Boolean);\n\n\t\tif (res !== true) {\n\t\t\tthrow new Error();\n\t\t}\n\n\t\treturn true;\n\t}\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}